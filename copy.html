<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    li{
        list-style-type: none;
        border: 1px solid #000;
        padding: 3px;
        margin: 0;
    }
    td{
        border: none;
        margin: 0;
        padding: 0;
    }
    table{
        border-spacing: 0;
    }
</style>
<body>
    <div>
        
        <form onsubmit="return false">
            <input type="text" id="message" name="message" placeholder="Агент ID"/>
            <button type="submit" id="button" onclick="today()">Сегодня</button>
            <button type="submit" id="button2" onclick="week()">7 дней </button>
            <button type="submit" id="button3" onclick="month()">30 дней</button>
            <button type="submit"  onclick="window.location.reload()">Обновить</button>
        <table>
            <tr>
                <th>Номер</th>
                <th>CSI</th>
                <th>Дата время</th>
                <th>ФИО</th>
                <th>Агент ID</th>
                <th>Группа</th>
            </tr>
            
            <tr >
                <td id="number"></td>
                <td id="csi"></td>
                <td id="date"></td>
                <td id="name"></td>
                <td id="agent_Id"></td>
                <td id="group"></td>
            </tr>
        </table></form>
    </div>  
<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script>
        $('input[type="checkbox"]').on('change', function() {
   $('input[type="checkbox"]').not(this).prop('checked', false);
});

var num = document.getElementById('number');
var csi = document.getElementById('csi');
var date = document.getElementById('date');
var names = document.getElementById('name');
var agent_Id = document.getElementById('agent_Id');
var group = document.getElementById('group');
var btn = document.getElementById ('button');
var btn2 = document.getElementById ('button2');
var btn3 = document.getElementById ('button3');
var mess = document.getElementById('message');
btn.addEventListener("click", function(){ btn.disabled = true;setTimeout(function() { btn.disabled = false;},10000000);})
btn2.addEventListener("click", function(){btn2.disabled = true;setTimeout(function() {btn2.disabled = false;},10000000);})
btn3.addEventListener("click", function(){btn3.disabled = true; setTimeout(function() {btn3.disabled = false;},10000000);})
function today(){
    this.mess.value;
            console.log('http://172.28.141.23:8282/api/v1/1/'+ mess.value);
            fetch('http://172.28.141.23:8282/api/v1/1/'+ mess.value).then(
            res=>{
                res.json().then(
                    
                    data =>{console.log(data);
                        var list = '';
                        var list2 = '';
                        var list3 = '';
                        var list4 = '';
                        var list5 = '';
                        var list6 = '';
                        for (let i = 0; i < data.length; i++) {

                            list += '<li>' + data[i][0] + '</li>' ;
                            list2 += '<li>' +  data[i][1] + '</li>' ;
                            list3 += '<li>' +  data[i][2] + '</li>' ;
                            list4 += '<li>' +  data[i][3] + '</li>' ;
                            list5 += '<li>' +  data[i][4] + '</li>' ;
                            list6 += '<li>' +  data[i][5] + '</li>' ;
                        }
                        num.innerHTML +=   list ;
                        csi.innerHTML +=   list2 ;
                        date.innerHTML +=   list3 ;
                        names.innerHTML +=   list4 ;
                        agent_Id.innerHTML +=   list5 ;
                        group.innerHTML +=   list6 ;
                        
                    }
                )
            }
        )
            return false;
            
}
function week(){
    this.mess.value;
            console.log('http://172.28.141.23:8282/api/v1/7/'+ mess.value);
            fetch('http://172.28.141.23:8282/api/v1/7/'+ mess.value).then(
            res=>{
                res.json().then(
                    
                    data =>{console.log(data);
                        var list = '';
                        var list2 = '';
                        var list3 = '';
                        var list4 = '';
                        var list5 = '';
                        var list6 = '';
                        for (let i = 0; i < data.length; i++) {

                            list += '<li>' + data[i][0] + '</li>' ;
                            list2 += '<li>' +  data[i][1] + '</li>' ;
                            list3 += '<li>' +  data[i][2] + '</li>' ;
                            list4 += '<li>' +  data[i][3] + '</li>' ;
                            list5 += '<li>' +  data[i][4] + '</li>' ;
                            list6 += '<li>' +  data[i][5] + '</li>' ;
                        }
                        num.innerHTML +=   list ;
                        csi.innerHTML +=   list2 ;
                        date.innerHTML +=   list3 ;
                        names.innerHTML +=   list4 ;
                        agent_Id.innerHTML +=   list5 ;
                        group.innerHTML +=   list6 ;
                        
                    }
                )
            }
        )
            return false;
            
}
function month(){
    this.mess.value;
            console.log('http://172.28.141.23:8282/api/v1/30/'+ mess.value);
            fetch('http://172.28.141.23:8282/api/v1/30/'+ mess.value).then(
            res=>{
                res.json().then(
                    
                    data =>{console.log(data);
                        var list = '';
                        var list2 = '';
                        var list3 = '';
                        var list4 = '';
                        var list5 = '';
                        var list6 = '';
                        for (let i = 0; i < data.length; i++) {

                            list += '<li>' + data[i][0] + '</li>' ;
                            list2 += '<li>' +  data[i][1] + '</li>' ;
                            list3 += '<li>' +  data[i][2] + '</li>' ;
                            list4 += '<li>' +  data[i][3] + '</li>' ;
                            list5 += '<li>' +  data[i][4] + '</li>' ;
                            list6 += '<li>' +  data[i][5] + '</li>' ;
                        }
                        num.innerHTML +=   list ;
                        csi.innerHTML +=   list2 ;
                        date.innerHTML +=   list3 ;
                        names.innerHTML +=   list4 ;
                        agent_Id.innerHTML +=   list5 ;
                        group.innerHTML +=   list6 ;
                        
                    }
                )
            }
        )
            return false;
            
}

    </script>
</body>
</html>